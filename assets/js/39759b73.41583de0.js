"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[892],{8092:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>c,metadata:()=>a,toc:()=>d});var r=n(5893),o=n(1151),l=n(6562);const c={title:"Setup the Example Contract Repository",sidebar_label:"Setup the Example Contract Repository",sidebar_position:2,slug:"/example-repo"},i="Clone the Example Contract Repository",a={id:"example-repo",title:"Setup the Example Contract Repository",description:"In this tutorial, we will be creating a test suite for an example CosmWasm contract using go-codegen. We first need to clone the repository containing the example contract.",source:"@site/docs/02-example-repo.md",sourceDirName:".",slug:"/example-repo",permalink:"/go-codegen/tutorial/example-repo",draft:!1,unlisted:!1,editUrl:"https://github.com/srdtrk/go-codegen/tree/main/docs/docs/02-example-repo.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Setup the Example Contract Repository",sidebar_label:"Setup the Example Contract Repository",sidebar_position:2,slug:"/example-repo"},sidebar:"docsSidebar",previous:{title:"Set Up Your Work Environment",permalink:"/go-codegen/tutorial/setup-env"},next:{title:"Scaffold a Test Suite",permalink:"/go-codegen/tutorial/scaffold-suite"}},s={},d=[{value:"Build the Contracts",id:"build-the-contracts",level:3},{value:"Generate CosmWasm Schemas",id:"generate-cosmwasm-schemas",level:3}];function h(e){const t={a:"a",code:"code",h1:"h1",h3:"h3",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"clone-the-example-contract-repository",children:"Clone the Example Contract Repository"}),"\n",(0,r.jsx)(t.p,{children:"In this tutorial, we will be creating a test suite for an example CosmWasm contract using go-codegen. We first need to clone the repository containing the example contract."}),"\n",(0,r.jsx)(t.p,{children:"You may also fork the repository to your GitHub account and clone it from there. This will allow you to push changes to your forked repository and test github actions in your forked repository."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-sh",children:"git clone https://github.com/srdtrk/awesomwasm-2024-workshop\ncd awesomwasm-2024-workshop\n"})}),"\n",(0,r.jsx)(t.p,{children:"Now, create and checkout a new branch for the tutorial:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-sh",children:"git checkout -b tutorial\n"})}),"\n",(0,r.jsx)(t.p,{children:"You may take a look at the repository to familiarize yourself, but we will not be making any changes to the contract code in this tutorial."}),"\n",(0,r.jsx)(l.Z,{type:"note",title:"Note",children:(0,r.jsxs)(t.p,{children:["This contract contains one main contract and two testing contracts in the ",(0,r.jsx)(t.code,{children:"testing"})," directory. We will be using all three contracts in our test suite."]})}),"\n",(0,r.jsx)(t.h3,{id:"build-the-contracts",children:"Build the Contracts"}),"\n",(0,r.jsxs)(t.p,{children:["To build the contracts, we use the ",(0,r.jsx)(t.a,{href:"https://github.com/CosmWasm/optimizer",children:(0,r.jsx)(t.code,{children:"cosmwasm/optimizer"})})," docker image version ",(0,r.jsx)(t.code,{children:"0.15.1"}),"."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-sh",children:"just build-optimize\n"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-sh",children:"just build-test-contracts\n"})}),"\n",(0,r.jsx)(t.h3,{id:"generate-cosmwasm-schemas",children:"Generate CosmWasm Schemas"}),"\n",(0,r.jsx)(t.p,{children:"To use go-codegen, we need to generate the CosmWasm schema for the contracts. We can do this by running the following command:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-sh",children:"just generate-schemas\n"})}),"\n",(0,r.jsxs)(l.Z,{type:"tip",title:"Exploration (Optional)",children:[(0,r.jsx)(t.p,{children:"At this point, you may explore go-codegen by running generate commands. For example:"}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-sh",children:"go-codegen generate messages schema/cw-ica-controller.json\n"})}),(0,r.jsxs)(t.p,{children:["And you can explore the generated ",(0,r.jsx)(t.code,{children:"msgs.go"})," file in the root directory. Then remove it:"]}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-sh",children:"rm msgs.go\n"})})]}),"\n",(0,r.jsx)(l.Z,{type:"note",title:"Note",children:(0,r.jsxs)(t.p,{children:["Build and schema artifacts are not committed to the repository due to ",(0,r.jsx)(t.code,{children:".gitignore"})," settings."]})})]})}function p(e={}){const{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},6562:(e,t,n)=>{n.d(t,{Z:()=>N});var r,o=n(7294);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const c=e=>{let{title:t,titleId:n,...c}=e;return o.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:21,height:23,fill:"none",viewBox:"0 0 21 23","aria-labelledby":n},c),t?o.createElement("title",{id:n},t):null,r||(r=o.createElement("path",{fill:"#fff",d:"M9.302 22.2c-.1 0-.3 0-.4-.1-.4-.2-.6-.6-.6-1l.9-6.9h-7.9q-.6 0-.9-.6c-.2-.4-.1-.8.1-1.1l10-12c.3-.3.8-.5 1.2-.3s.6.6.6 1l-.9 6.9h7.9q.6 0 .9.6c.2.4.1.8-.1 1.1l-10 12c-.2.3-.5.4-.8.4m-5.9-10h6.9c.3 0 .6.1.7.3.2.2.3.5.2.8l-.6 4.6 6.4-7.7h-6.9c-.3 0-.6-.1-.7-.3-.2-.2-.3-.5-.2-.8l.6-4.6z"})))};var i;function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}const s=e=>{let{title:t,titleId:n,...r}=e;return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:21,height:21,fill:"none",viewBox:"0 0 21 21","aria-labelledby":n},r),t?o.createElement("title",{id:n},t):null,i||(i=o.createElement("path",{fill:"#200F31",d:"M8.3 9.2h-7c-.6 0-1-.4-1-1v-7c0-.6.4-1 1-1h7c.6 0 1 .4 1 1v7c0 .5-.5 1-1 1m-6-2h5v-5h-5zM19.3 9.2h-7c-.6 0-1-.4-1-1v-7c0-.6.4-1 1-1h7c.6 0 1 .4 1 1v7c0 .5-.5 1-1 1m-6-2h5v-5h-5zM19.3 20.2h-7c-.6 0-1-.4-1-1v-7c0-.6.4-1 1-1h7c.6 0 1 .4 1 1v7c0 .5-.5 1-1 1m-6-2h5v-5h-5zM8.3 20.2h-7c-.6 0-1-.4-1-1v-7c0-.6.4-1 1-1h7c.6 0 1 .4 1 1v7c0 .5-.5 1-1 1m-6-2h5v-5h-5z"})))};var d;function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}const p=e=>{let{title:t,titleId:n,...r}=e;return o.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:23,height:23,fill:"none",viewBox:"0 0 23 23","aria-labelledby":n},r),t?o.createElement("title",{id:n},t):null,d||(d=o.createElement("path",{fill:"#fff",d:"M11.3.2C5.2.2.3 5.1.3 11.2s4.9 11 11 11 11-4.9 11-11-4.9-11-11-11m1 19.9v-2.9c0-.6-.4-1-1-1s-1 .4-1 1v2.9c-4.2-.5-7.5-3.8-7.9-7.9h2.9c.6 0 1-.4 1-1s-.4-1-1-1H2.4c.5-4.2 3.8-7.5 7.9-7.9v2.9c0 .6.4 1 1 1s1-.4 1-1V2.3c4.2.5 7.5 3.8 7.9 7.9h-2.9c-.6 0-1 .4-1 1s.4 1 1 1h2.9c-.4 4.2-3.7 7.5-7.9 7.9"})))};var u;function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}const g=e=>{let{title:t,titleId:n,...r}=e;return o.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",width:23,height:22,fill:"none",viewBox:"0 0 23 22","aria-labelledby":n},r),t?o.createElement("title",{id:n},t):null,u||(u=o.createElement("path",{fill:"#fff",d:"M17.503 21.2c-.2 0-.3 0-.5-.1l-5.7-3-5.7 3c-.3.2-.7.1-1.1-.1-.3-.2-.5-.6-.4-1l1.1-6.4-4.6-4.5c-.3-.3-.4-.7-.3-1 .1-.4.4-.6.8-.7l6.4-.9 2.9-5.8c.3-.7 1.5-.7 1.8 0l2.9 5.8 6.4.9c.4.1.7.3.8.7s0 .8-.3 1l-4.6 4.5 1.1 6.4c.1.4-.1.8-.4 1-.2.1-.4.2-.6.2M3.403 9.1l3.5 3.5c.2.2.3.6.3.9l-.8 4.9 4.4-2.3q.45-.3.9 0l4.4 2.3-.8-4.9c-.1-.3.1-.7.3-.9l3.5-3.5-4.9-.7c-.3 0-.6-.3-.8-.5l-2.2-4.4-2.2 4.4c-.1.3-.4.5-.8.5z"})))};var f;function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}const x=e=>{let{title:t,titleId:n,...r}=e;return o.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24","aria-labelledby":n},r),t?o.createElement("title",{id:n},t):null,f||(f=o.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.5 21.2H11m7.7-12.5a6 6 0 0 0-12 0c0 2.3 2.4 4.4 3 5.8 1 1.8 1 3.2 1 3.2h4s0-1.4 1-3.2c.7-1.4 3-3.2 3-5.8"})))};var b;function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}const j=e=>{let{title:t,titleId:n,...r}=e;return o.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",width:17,height:21,fill:"none",viewBox:"0 0 17 21","aria-labelledby":n},r),t?o.createElement("title",{id:n},t):null,b||(b=o.createElement("path",{fill:"#1A1A1A",d:"M5.3 14.5h6c.6 0 1 .4 1 1s-.4 1-1 1h-6c-.6 0-1-.4-1-1 0-.5.4-1 1-1m0-4h6c.6 0 1 .4 1 1s-.4 1-1 1h-6c-.6 0-1-.4-1-1 0-.5.4-1 1-1m5-10h-8c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-12zm4 18h-12v-16h7v3c0 1.1.9 2 2 2h3z"})))};var y;function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}const E=e=>{let{title:t,titleId:n,...r}=e;return o.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",width:24,height:23,fill:"none",viewBox:"0 0 24 23","aria-labelledby":n},r),t?o.createElement("title",{id:n},t):null,y||(y=o.createElement("path",{fill:"#fff",d:"M18.203 7.2h-17c-.6 0-1 .4-1 1v9c0 2.8 2.2 5 5 5h8c2.8 0 5-2.2 5-5 2.8 0 5-2.2 5-5s-2.3-5-5-5m-2 10c0 1.7-1.3 3-3 3h-8c-1.7 0-3-1.3-3-3v-8h14zm2-2v-6c1.7 0 3 1.3 3 3 0 1.6-1.4 3-3 3M5.203 5.2c.6 0 1-.4 1-1v-3c0-.6-.4-1-1-1s-1 .4-1 1v3c0 .5.4 1 1 1M9.203 5.2c.6 0 1-.4 1-1v-3c0-.6-.4-1-1-1s-1 .4-1 1v3c0 .5.4 1 1 1M13.203 5.2c.6 0 1-.4 1-1v-3c0-.6-.4-1-1-1s-1 .4-1 1v3c0 .5.4 1 1 1"})))};var M;function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(this,arguments)}const C=e=>{let{title:t,titleId:n,...r}=e;return o.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24","aria-labelledby":n},r),t?o.createElement("title",{id:n},t):null,M||(M=o.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10M12 16v-4M12 8h.01"})))};var B;function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F.apply(this,arguments)}const z=e=>{let{title:t,titleId:n,...r}=e;return o.createElement("svg",F({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24","aria-labelledby":n},r),t?o.createElement("title",{id:n},t):null,B||(B=o.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0M12 9v4M12 17h.01"})))};var S=n(5893);const W={tip:{color1:"#336667",color2:"#00B067",icon:(0,S.jsx)(x,{}),darkMode:!0},reading:{color1:"#F46800",color2:"#F24CF4",icon:(0,S.jsx)(c,{}),darkMode:!1},info:{color1:"#336667",color2:"#00B067",icon:(0,S.jsx)(C,{}),darkMode:!0},warn:{color1:"#00B067",color2:"#FFD303",icon:(0,S.jsx)(z,{}),darkMode:!1},warning:{color1:"#00B067",color2:"#FFD303",icon:(0,S.jsx)(z,{}),darkMode:!1},synopsis:{color1:"#1c1c1c",color2:"#1c1c1c",icon:null,darkMode:!0},prerequisite:{color1:"lightgray",color2:"lightgray",icon:(0,S.jsx)(s,{}),darkMode:!1},learning:{color1:"#6836D0",color2:"#05BDFC",icon:(0,S.jsx)(p,{}),darkMode:!0},"best-practice":{color1:"#6836D0",color2:"#6836D0",icon:(0,S.jsx)(g,{}),darkMode:!0},remember:{color1:"#6D0000",color2:"#F66800",icon:(0,S.jsx)(x,{}),darkMode:!0},note:{color1:"#F69900",color2:"#FFCE15",icon:(0,S.jsx)(j,{}),darkMode:!1},docs:{color1:"#6836D0",color2:"#F44CF6",icon:(0,S.jsx)(E,{}),darkMode:!0}},I=e=>{let{color1:t,color2:n}=e;return{background:`linear-gradient(78.06deg, ${t} 1.14%, ${n} 98.88%)`,border:0,borderRadius:16,padding:"0 30px",display:"flex",width:"100%",justifyContent:"start",marginBottom:20,fontSize:18,flexDirection:"column"}};const N=function(e){let{type:t,title:n,children:r}=e;const l=W[t]||W.info,c={backgroundColor:"var(--docusaurus-highlighted-code-line-bg)"},i={alignSelf:"center",filter:l.darkMode?"brightness(0) invert(1)":"brightness(0)"},a={marginTop:"10px",marginLeft:"10px",color:l.darkMode?"#e6e6e6":"black"},s={color:l.darkMode?"#e6e6e6":"black",marginBottom:"10px"},d=o.Children.map(r,(e=>"code"===e.type?o.cloneElement(e,{style:c}):e));return(0,S.jsxs)("div",{style:I(l),className:"highlightBox",id:t,children:[(0,S.jsx)("style",{children:`\n          #${t} a {\n            color: ${l.darkMode?"#85c1e9":"blue"} !important;\n          }\n        `}),(0,S.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px",marginTop:"10px"},children:[(0,S.jsx)("div",{style:i,children:l.icon}),(0,S.jsx)("h3",{style:a,children:n})]}),(0,S.jsx)("div",{style:s,children:d})]})}},1151:(e,t,n)=>{n.d(t,{Z:()=>i,a:()=>c});var r=n(7294);const o={},l=r.createContext(o);function c(e){const t=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),r.createElement(l.Provider,{value:t},e.children)}}}]);